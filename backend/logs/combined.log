{"level":"warn","message":"Token missing userId","service":"profile-api","timestamp":"2026-02-01 12:54:43"}
{"error":"Invalid token payload","level":"error","message":"Authentication error:","service":"profile-api","timestamp":"2026-02-01 12:54:43","token":"eyJhbGciOiJIUzI1NiIs"}
{"level":"warn","message":"Token missing userId","service":"profile-api","timestamp":"2026-02-01 12:58:08"}
{"error":"Invalid token payload","level":"error","message":"Authentication error:","service":"profile-api","timestamp":"2026-02-01 12:58:08","token":"eyJhbGciOiJIUzI1NiIs"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-01 13:00:17"}
{"errors":[{"context":{"key":"userName","label":"userName","regex":{},"value":"javed khan"},"message":"Username can only contain letters, numbers, and underscores","path":["userName"],"type":"string.pattern.base"}],"level":"warn","message":"Profile update validation failed","service":"profile-api","timestamp":"2026-02-01 13:00:17","userId":"697e42f94855f2a5bdffb215"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-01 13:01:49"}
{"level":"info","message":"Profile updated successfully for user: 697e42f94855f2a5bdffb215","service":"profile-api","timestamp":"2026-02-01 13:01:49"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-01 13:04:04"}
{"level":"info","message":"Profile updated successfully for user: 697e42f94855f2a5bdffb215","service":"profile-api","timestamp":"2026-02-01 13:04:04"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-01 13:09:32"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-01 13:11:39"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-01 13:12:21"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-01 13:13:39"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-01 13:14:23"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-01 13:14:58"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-01 13:16:44"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-01 13:17:43"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-01 13:18:05"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-01 13:21:06"}
{"level":"info","message":"Profile updated successfully for user: 697e42f94855f2a5bdffb215","service":"profile-api","timestamp":"2026-02-01 13:21:06"}
{"level":"warn","message":"Authentication attempt without token","service":"profile-api","timestamp":"2026-02-01 13:30:04"}
{"level":"warn","message":"Authentication attempt without token","service":"profile-api","timestamp":"2026-02-01 13:30:20"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-02 21:46:04"}
{"level":"info","message":"Profile updated successfully for user: 697e42f94855f2a5bdffb215","service":"profile-api","timestamp":"2026-02-02 21:46:04"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-02 21:47:48"}
{"level":"info","message":"File validated: 117471.jpg, Type: image/jpeg","service":"profile-api","timestamp":"2026-02-02 21:47:48"}
{"level":"info","message":"Processing file upload for user: 697e42f94855f2a5bdffb215","service":"profile-api","timestamp":"2026-02-02 21:47:48"}
{"error":"cloudinaryService is not defined","level":"error","message":"File upload failed:","service":"profile-api","timestamp":"2026-02-02 21:47:48","userId":"697e42f94855f2a5bdffb215"}
{"error":"Failed to upload profile picture: cloudinaryService is not defined","level":"error","message":"Profile update error:","service":"profile-api","stack":"Error: Failed to upload profile picture: cloudinaryService is not defined\n    at file:///C:/Users/javed/Desktop/New%20folder/whatsappweb/backend/controller/user.controller.js:179:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-02 21:47:48","userId":"697e42f94855f2a5bdffb215"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-02 21:48:08"}
{"level":"info","message":"File validated: 117471.jpg, Type: image/jpeg","service":"profile-api","timestamp":"2026-02-02 21:48:08"}
{"level":"info","message":"Processing file upload for user: 697e42f94855f2a5bdffb215","service":"profile-api","timestamp":"2026-02-02 21:48:08"}
{"error":"cloudinaryService is not defined","level":"error","message":"File upload failed:","service":"profile-api","timestamp":"2026-02-02 21:48:08","userId":"697e42f94855f2a5bdffb215"}
{"error":"Failed to upload profile picture: cloudinaryService is not defined","level":"error","message":"Profile update error:","service":"profile-api","stack":"Error: Failed to upload profile picture: cloudinaryService is not defined\n    at file:///C:/Users/javed/Desktop/New%20folder/whatsappweb/backend/controller/user.controller.js:179:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-02 21:48:08","userId":"697e42f94855f2a5bdffb215"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-02 21:49:01"}
{"level":"info","message":"File validated: 117471.jpg, Type: image/jpeg","service":"profile-api","timestamp":"2026-02-02 21:49:01"}
{"level":"info","message":"Processing file upload for user: 697e42f94855f2a5bdffb215","service":"profile-api","timestamp":"2026-02-02 21:49:01"}
{"error":"cloudinaryService is not defined","level":"error","message":"File upload failed:","service":"profile-api","timestamp":"2026-02-02 21:49:01","userId":"697e42f94855f2a5bdffb215"}
{"error":"Failed to upload profile picture: cloudinaryService is not defined","level":"error","message":"Profile update error:","service":"profile-api","stack":"Error: Failed to upload profile picture: cloudinaryService is not defined\n    at file:///C:/Users/javed/Desktop/New%20folder/whatsappweb/backend/controller/user.controller.js:179:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-02 21:49:01","userId":"697e42f94855f2a5bdffb215"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-02 21:49:26"}
{"level":"info","message":"File validated: 117471.jpg, Type: image/jpeg","service":"profile-api","timestamp":"2026-02-02 21:49:26"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-02 21:49:39"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-02 21:51:12"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-02 21:52:19"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-02 21:52:45"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-02 21:54:34"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-02 21:54:47"}
{"level":"info","message":"File validated: 117471.jpg, Type: image/jpeg","service":"profile-api","timestamp":"2026-02-02 21:54:47"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-02 21:55:45"}
{"level":"info","message":"File validated: 117471.jpg, Type: image/jpeg","service":"profile-api","timestamp":"2026-02-02 21:55:45"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-02 21:56:06"}
{"level":"info","message":"File validated: 117471.jpg, Type: image/jpeg","service":"profile-api","timestamp":"2026-02-02 21:56:06"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-02 21:56:39"}
{"level":"info","message":"File validated: 117471.jpg, Type: image/jpeg","service":"profile-api","timestamp":"2026-02-02 21:56:39"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-02 21:57:03"}
{"level":"info","message":"File validated: 117471.jpg, Type: image/jpeg","service":"profile-api","timestamp":"2026-02-02 21:57:03"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-02 21:57:36"}
{"level":"info","message":"File validated: 117471.jpg, Type: image/jpeg","service":"profile-api","timestamp":"2026-02-02 21:57:36"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-02 21:59:08"}
{"level":"info","message":"File validated: 117471.jpg, Type: image/jpeg","service":"profile-api","timestamp":"2026-02-02 21:59:08"}
{"level":"info","message":"Processing file upload for user: 697e42f94855f2a5bdffb215","service":"profile-api","timestamp":"2026-02-02 21:59:08"}
{"error":"cloudinaryService is not defined","level":"error","message":"File upload failed:","service":"profile-api","timestamp":"2026-02-02 21:59:08","userId":"697e42f94855f2a5bdffb215"}
{"error":"Failed to upload profile picture: cloudinaryService is not defined","level":"error","message":"Profile update error:","service":"profile-api","stack":"Error: Failed to upload profile picture: cloudinaryService is not defined\n    at file:///C:/Users/javed/Desktop/New%20folder/whatsappweb/backend/controller/user.controller.js:183:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-02 21:59:08","userId":"697e42f94855f2a5bdffb215"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-02 21:59:20"}
{"level":"info","message":"File validated: 117471.jpg, Type: image/jpeg","service":"profile-api","timestamp":"2026-02-02 21:59:20"}
{"level":"info","message":"Processing file upload for user: 697e42f94855f2a5bdffb215","service":"profile-api","timestamp":"2026-02-02 21:59:20"}
{"error":"cloudinaryService is not defined","level":"error","message":"File upload failed:","service":"profile-api","timestamp":"2026-02-02 21:59:20","userId":"697e42f94855f2a5bdffb215"}
{"error":"Failed to upload profile picture: cloudinaryService is not defined","level":"error","message":"Profile update error:","service":"profile-api","stack":"Error: Failed to upload profile picture: cloudinaryService is not defined\n    at file:///C:/Users/javed/Desktop/New%20folder/whatsappweb/backend/controller/user.controller.js:183:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-02 21:59:20","userId":"697e42f94855f2a5bdffb215"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-02 21:59:46"}
{"level":"info","message":"File validated: 117471.jpg, Type: image/jpeg","service":"profile-api","timestamp":"2026-02-02 21:59:46"}
{"level":"info","message":"Processing file upload for user: 697e42f94855f2a5bdffb215","service":"profile-api","timestamp":"2026-02-02 21:59:46"}
{"error":"cloudinaryService is not defined","level":"error","message":"File upload failed:","service":"profile-api","timestamp":"2026-02-02 21:59:46","userId":"697e42f94855f2a5bdffb215"}
{"error":"Failed to upload profile picture: cloudinaryService is not defined","level":"error","message":"Profile update error:","service":"profile-api","stack":"Error: Failed to upload profile picture: cloudinaryService is not defined\n    at file:///C:/Users/javed/Desktop/New%20folder/whatsappweb/backend/controller/user.controller.js:184:15\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-02 21:59:46","userId":"697e42f94855f2a5bdffb215"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-02 22:00:32"}
{"level":"info","message":"File validated: 117471.jpg, Type: image/jpeg","service":"profile-api","timestamp":"2026-02-02 22:00:32"}
{"level":"info","message":"Processing file upload for user: 697e42f94855f2a5bdffb215","service":"profile-api","timestamp":"2026-02-02 22:00:32"}
{"level":"info","message":"Uploading file to Cloudinary: C:\\Users\\javed\\Desktop\\New folder\\whatsappweb\\backend\\uploads\\temp\\profilePicture-1770049832020-33101123.jpg","service":"profile-api","timestamp":"2026-02-02 22:00:32"}
{"level":"info","message":"File uploaded successfully: user-profiles/697e42f94855f2a5bdffb215/profile-1770049832048","service":"profile-api","timestamp":"2026-02-02 22:00:46"}
{"error":"User validation failed: profile.picture: Cast to string failed for value \"{\n  url: 'https://res.cloudinary.com/do7pydtrf/image/upload/v1770049839/user-profiles/697e42f94855f2a5bdffb215/profile-1770049832048.jpg',\n  publicId: 'user-profiles/697e42f94855f2a5bdffb215/profile-1770049832048',\n  updatedAt: 2026-02-02T16:30:46.577Z\n}\" (type Object) at path \"profile.picture\"","level":"error","message":"Profile update error:","service":"profile-api","stack":"ValidationError: User validation failed: profile.picture: Cast to string failed for value \"{\n  url: 'https://res.cloudinary.com/do7pydtrf/image/upload/v1770049839/user-profiles/697e42f94855f2a5bdffb215/profile-1770049832048.jpg',\n  publicId: 'user-profiles/697e42f94855f2a5bdffb215/profile-1770049832048',\n  updatedAt: 2026-02-02T16:30:46.577Z\n}\" (type Object) at path \"profile.picture\"\n    at Document.invalidate (C:\\Users\\javed\\Desktop\\New folder\\whatsappweb\\backend\\node_modules\\mongoose\\lib\\document.js:3362:32)\n    at model.$set (C:\\Users\\javed\\Desktop\\New folder\\whatsappweb\\backend\\node_modules\\mongoose\\lib\\document.js:1484:12)\n    at model.$set (C:\\Users\\javed\\Desktop\\New folder\\whatsappweb\\backend\\node_modules\\mongoose\\lib\\document.js:1231:14)\n    at model.set [as profile] (C:\\Users\\javed\\Desktop\\New folder\\whatsappweb\\backend\\node_modules\\mongoose\\lib\\helpers\\document\\compile.js:189:13)\n    at file:///C:/Users/javed/Desktop/New%20folder/whatsappweb/backend/controller/user.controller.js:250:20\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-02 22:00:46","userId":"697e42f94855f2a5bdffb215"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-02 22:07:49"}
{"level":"info","message":"File validated: 117471.jpg, Type: image/jpeg","service":"profile-api","timestamp":"2026-02-02 22:07:49"}
{"level":"info","message":"Processing file upload for user: 697e42f94855f2a5bdffb215","service":"profile-api","timestamp":"2026-02-02 22:07:49"}
{"level":"info","message":"Uploading file to Cloudinary: C:\\Users\\javed\\Desktop\\New folder\\whatsappweb\\backend\\uploads\\temp\\profilePicture-1770050269964-344235570.jpg","service":"profile-api","timestamp":"2026-02-02 22:07:49"}
{"level":"info","message":"File uploaded successfully: user-profiles/697e42f94855f2a5bdffb215/profile-1770050269990","service":"profile-api","timestamp":"2026-02-02 22:07:58"}
{"level":"info","message":"Profile updated successfully for user: 697e42f94855f2a5bdffb215","service":"profile-api","timestamp":"2026-02-02 22:07:58"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-02 22:11:19"}
{"level":"info","message":"File validated: javed khan.jpeg, Type: image/jpeg","service":"profile-api","timestamp":"2026-02-02 22:11:19"}
{"level":"info","message":"Processing file upload for user: 697e42f94855f2a5bdffb215","service":"profile-api","timestamp":"2026-02-02 22:11:19"}
{"level":"info","message":"Uploading file to Cloudinary: C:\\Users\\javed\\Desktop\\New folder\\whatsappweb\\backend\\uploads\\temp\\profilePicture-1770050479611-771307264.jpeg","service":"profile-api","timestamp":"2026-02-02 22:11:19"}
{"level":"info","message":"File uploaded successfully: user-profiles/697e42f94855f2a5bdffb215/profile-1770050479639","service":"profile-api","timestamp":"2026-02-02 22:11:23"}
{"level":"info","message":"Profile updated successfully for user: 697e42f94855f2a5bdffb215","service":"profile-api","timestamp":"2026-02-02 22:11:23"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-02 22:18:47"}
{"level":"info","message":"File validated: javed khan.jpeg, Type: image/jpeg","service":"profile-api","timestamp":"2026-02-02 22:18:47"}
{"level":"info","message":"Processing file upload for user: 697e42f94855f2a5bdffb215","service":"profile-api","timestamp":"2026-02-02 22:18:47"}
{"level":"info","message":"Uploading file to Cloudinary: C:\\Users\\javed\\Desktop\\New folder\\whatsappweb\\backend\\uploads\\temp\\profilePicture-1770050927639-471975428.jpeg","service":"profile-api","timestamp":"2026-02-02 22:18:47"}
{"level":"info","message":"File uploaded successfully: user-profiles/697e42f94855f2a5bdffb215/profile-1770050927666","service":"profile-api","timestamp":"2026-02-02 22:18:51"}
{"level":"info","message":"Profile updated successfully for user: 697e42f94855f2a5bdffb215","service":"profile-api","timestamp":"2026-02-02 22:18:51"}
{"level":"info","message":"User 697e42f94855f2a5bdffb215 authenticated successfully","service":"profile-api","timestamp":"2026-02-02 22:19:47"}
{"level":"info","message":"File validated: 117471.jpg, Type: image/jpeg","service":"profile-api","timestamp":"2026-02-02 22:19:47"}
{"level":"info","message":"Processing file upload for user: 697e42f94855f2a5bdffb215","service":"profile-api","timestamp":"2026-02-02 22:19:47"}
{"level":"info","message":"Uploading file to Cloudinary: C:\\Users\\javed\\Desktop\\New folder\\whatsappweb\\backend\\uploads\\temp\\profilePicture-1770050987880-801060394.jpg","service":"profile-api","timestamp":"2026-02-02 22:19:47"}
{"level":"info","message":"File uploaded successfully: user-profiles/697e42f94855f2a5bdffb215/profile-1770050987889","service":"profile-api","timestamp":"2026-02-02 22:19:52"}
{"level":"info","message":"Profile updated successfully for user: 697e42f94855f2a5bdffb215","service":"profile-api","timestamp":"2026-02-02 22:19:52"}
